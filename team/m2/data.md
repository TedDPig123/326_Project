# Application Data

## Overview

### 1. Character generation

 - **Description**: record the information/data the User created for the character on the battle map.
     - `map_id`(string): the unique identifier for the map associated with the character.
     - `character_id`(string): a unique identifier for each character created.
     - `name` (string): The name for the character.
     - `health` (number): The amount of health the character has.
     - `character_description` (string): A short description for the character user created.
     - `character_size` (number): the size of the character(how much tile it occupies).
     - `character_image`(image): the image for the character.
     - `character_cord`(object): record the placement of the character on the map.
 - **Data Source**: User-Data input via Add Token.

### 2. Object generation

 - **Description**: Tracks the creation of object.
     - `map_id`(string): the unique identifier for the map associated with the object.
     - `object_id`(string): a unique identifier for each object created and placed.
     - `object_name` (string): shows the object type(wall castle etc.) for the object.
     - `c(column)` (number): the column the object(how much column it occupies).
     - `r(row)` (number): the row the object(how much row it occupies).
     - `number_of_copy` (number): the the number of copy of the same object the user want to create
     - `object_image`(image): the image for the object.
     - `object_cord`(object): record the placement of the objects on the map.
 - **Data Source**: User data input via Add Object.

### 3. Dice Roll

 - **Description**: tracks dice roll made by the user.
     - `dice-count`(number): the amount of dice for each roll.
     - `dice-sides`(number): the type for the dice(d6, d10, d20 etc.)
     - `dice-mod`(number): the extra number added onto each dice roll at the end(like +2, +1)
     - `result`(number): the result of the dice roll.
 - **Data Source**: User data whenever they submit in the dice generation box. And the result will be automatically calculated by the system.

### 4. Map generation

 - **Description**: records the information for map generation.
     - `grid_width` (number): how wide the grid is.
     - `grid_height` (number): how long the grid is.
     - `grid_size` (number): the size of the grid(`width`*`height`)
     - `background` (image): the image applied to the entirety of the map.
 - **Data Source**: User input via Edit Grid, and a default map is created by the system if no input is given.

### 5. Tile types
 - **Description**: records the information of the tile types for the terrain created.
     -  `dbTileObject` (DatabaseConnection object): An indexedDB database object used to store all the tile types.
     - `tileObject` (Class): A class used to create tileObject objects, which are used to store a tile's type, details, and image data
     - `tileID`(number): the unique identifier for the tile type, received when adding a tile object to the dbTileObject database
     - `tileObject.type`(string): a unique identifier for each terrain created.
     - `tileObject.details` (string): gives the details/description of the tile
     - `tileObject.imgData` (Data URL): gives a URL to the image that dictates the visual appearance of the tile.
     -  `availableTiles` (array): used to keep track of all available tile types

 - **Data Source**: User input via Add/Customize tile menus

### 6. Drawing
 - **Description**: records the drawing on the battle map.
     - `size`(number): the size of the pen/eraser/shape.
     - `color`(color): the color of the pen/shape.
     - `tool`(booleans): keeps track of the currently selected drawing tool.
 - **Data Source**: User input when they select the drawing feature.

# Data Relationships

- **Map to Character**: One-to-many relationship (a Map can have many Character).
- **Map to Object**: One-to-many relationship (a Map can have many Object).
- **Map to Terrain**: One-to-many relationship (a map can have many Terrain).
- **Map to Drawing**: One-to-many relationship (a map can have many Drawing).
- **Map to Dice roll**: One-to-one relationship (a map can have one Dice roll bar).

## Data Sources

- **User-Input Data**: This is all of the data, including character, object, Terrain and map generation.
And also dice roll input and drawing input.

- **System-Generated Data**: 
The result of the dice roll will be automatically calculated by the system according to the user input. 
And there will be a default battle map with default grid size and a white background generated by the system. 
The system will automatically store the state and information of things associated with each unique `map_id`.

- **interaction with IndexDB**: 
each Token and tile has their own individual indexDB objectStore, and when updating or deleting, the features takes the data from IndexDB and updates it so that when the user reload the page, all the information of the tokens(including the image on token) and the tiles (including the tile images) are kept and rendered
